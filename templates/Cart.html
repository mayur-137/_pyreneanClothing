{% extends 'Base.html' %}
{% load static %}
{% block title %} Cart | Pyrenean {% endblock title %}
{% block head %}
<link rel="stylesheet" href="{% static 'css/Cart.css' %}" media="screen">
{% endblock head %}
{% block body %}

<body class="u-body u-xl-mode" data-lang="en">
  <section class="u-clearfix u-section-1" id="sec-5318">
    <div class="u-clearfix u-sheet u-sheet-1">
      <div class="u-cart u-expanded-width-xs u-cart-1">
        <div class="u-cart-products-table u-table u-table-responsive">
          <table class="u-table-entity">
            <colgroup>
              <col width="65%">
              <col width="15%">
              <col width="15%">
              <col width="15%">
            </colgroup>
            <thead class="u-table-header">
              <tr>
                <th class="u-border-1 u-border-grey-dark-1 u-table-cell">Product </th>
                <th class="u-border-1 u-border-grey-dark-1 u-table-cell">Price in &#8377;</th>
                <th class="u-border-1 u-border-grey-dark-1 u-table-cell">Quantity </th>
                <th class="u-border-1 u-border-grey-dark-1 u-table-cell">Subtotal </th>
              </tr>
            </thead>
            <tbody class="u-table-body">

              {% for item in products %}
              {% load cart_extras %}
              <tr>
                <td class="u-border-1 u-border-grey-dark-1 u-table-cell"><span
                    class="u-cart-remove-item u-icon u-icon-1"><svg class="u-svg-content" viewBox="0 0 52 52" x="0px"
                      y="0px" style="width: 1em; height: 1em;">
                      <g>
                        <path d="M26,0C11.664,0,0,11.663,0,26s11.664,26,26,26s26-11.663,26-26S40.336,0,26,0z M26,50C12.767,50,2,39.233,2,26
		S12.767,2,26,2s24,10.767,24,24S39.233,50,26,50z"></path>
                        <path d="M35.707,16.293c-0.391-0.391-1.023-0.391-1.414,0L26,24.586l-8.293-8.293c-0.391-0.391-1.023-0.391-1.414,0
		s-0.391,1.023,0,1.414L24.586,26l-8.293,8.293c-0.391,0.391-0.391,1.023,0,1.414C16.488,35.902,16.744,36,17,36
		s0.512-0.098,0.707-0.293L26,27.414l8.293,8.293C34.488,35.902,34.744,36,35,36s0.512-0.098,0.707-0.293
		c0.391-0.391,0.391-1.023,0-1.414L27.414,26l8.293-8.293C36.098,17.316,36.098,16.684,35.707,16.293z"></path>
                      </g>
                    </svg></span>
                  <img class="u-cart-product-image u-image u-image-default u-product-control"
                    src="/{{item.picture}}">
                  <h2 class="u-cart-product-title u-product-control u-text u-text-1">
                    <a class="u-product-title-link" href="#">{{item.name}}</a>
                  </h2>
                </td>
                <td class="u-border-1 u-border-grey-dark-1 u-table-cell">
                  <div class="u-cart-product-price u-product-control u-product-price">
                    <div class="u-price-wrapper">
                      <div class="u-hide-price u-old-price"></div>
                      <div class="u-price" id="P-price">{{item.price}}</div>
                    </div>
                  </div>
                </td>
                <td class="u-border-1 u-border-grey-dark-1 u-table-cell">
                  <div class="u-cart-product-quantity u-product-control u-product-quantity u-product-quantity-1">
                    <div class="u-hidden u-quantity-label"> Quantity </div>
                    <div class="u-border-1 u-border-grey-25 u-quantity-input">
                      <a class="disabled minus u-button-style u-hidden u-quantity-button">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
                          <path d="m 4 8 h 8" fill="none" stroke="currentColor" stroke-width="1" fill-rule="evenodd">
                          </path>
                        </svg>
                      </a>
                      <p>Quantity: {{ cart_session|get_item:item.id|stringformat:"s" }}</p>
                      <input class="u-border-grey-30 u-input" type="number" value="1" min="1" max="{{item.quantity}}" id="P-quantity">
                      <a class="plus u-button-style u-hidden u-quantity-button">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
                          <path d="m 4 8 h 8 M 8 4 v 8" fill="none" stroke="currentColor" stroke-width="1"
                            fill-rule="evenodd"></path>
                        </svg>
                      </a>
                    </div>
                  </div>
                </td>
                <td class="u-border-1 u-border-grey-dark-1 u-table-cell">
                  <div class="u-cart-product-subtotal u-product-control u-product-price">
                    <div class="u-price-wrapper">
                      <div class="u-hide-price u-old-price"></div>
                      <script>
                        function updatecart(){
                          var p_quantity_prev
                          p_price = document.getElementById("P-price").innerHTML
                          p_quantity = document.getElementById("P-quantity").value
                          p_quantity_prev = p_quantity
                          document.getElementById("P_subtotal").innerHTML = Number(p_price)*Number(p_quantity);
                        }
                        </script>
                        <div class="u-price" style="font-weight: 700;" id="P_subtotal">{{ item.subtotal }}</div>
                        <script>
                          
                        </script>
                    </div>
                  </div>
                </td>
              </tr>
              {% endfor %}





            </tbody>
          </table>
        </div>
        <div class="u-cart-button-container">
          <a href="#"
            class="u-active-none u-btn u-button-style u-cart-continue-shopping u-hover-none u-none u-text-body-color u-btn-1"><span
              class="u-icon"><svg class="u-svg-content" viewBox="0 0 443.52 443.52" x="0px" y="0px"
                style="width: 1em; height: 1em;">
                <g>
                  <g>
                    <path
                      d="M143.492,221.863L336.226,29.129c6.663-6.664,6.663-17.468,0-24.132c-6.665-6.662-17.468-6.662-24.132,0l-204.8,204.8    c-6.662,6.664-6.662,17.468,0,24.132l204.8,204.8c6.78,6.548,17.584,6.36,24.132-0.42c6.387-6.614,6.387-17.099,0-23.712    L143.492,221.863z">
                    </path>
                  </g>
                </g>
              </svg></span>&nbsp;Continue Shopping
          </a>
          <a class="u-btn u-button-style u-cart-update u-grey-5" onclick="updatecart()">Update Cart</a>
        </div>
        <div class="u-cart-blocks-container">
          <div class="u-cart-block u-indent-30">
            <div class="u-cart-block-container u-clearfix">
              <h5 class="u-cart-block-header u-text">Promotion Code</h5>
              <div class="u-cart-block-content u-text">
                <div class="u-cart-form u-form">
                  <form action="#" class="u-clearfix u-form-horizontal u-form-spacing-10 u-inner-form" source="custom"
                    name="form" method="post">
                    <div class="u-form-group">
                      <label for="name-5861" class="u-form-control-hidden u-label">Coupon code</label>
                      <input type="text" placeholder="Coupon code" id="name-5861" name="coupon"
                        class="u-input u-input-rectangle u-none" required="">
                    </div>
                    <div class="u-align-left u-form-group u-form-submit">
                      <a href="#" class="u-btn u-btn-submit u-button-style">Apply Coupon</a>
                      <input type="submit" value="submit" class="u-form-control-hidden">
                    </div>
                    <div class="u-form-send-message u-form-send-success">Thank you! Your message has been sent.</div>
                    <div class="u-form-send-error u-form-send-message">Unable to send your message. Please fix errors
                      then try again.</div>
                    <input type="hidden" value="" name="recaptchaResponse">
                  </form>
                </div>
              </div>
            </div>
          </div>
          <div class="u-cart-block u-cart-totals-block u-indent-30">
            <div class="u-cart-block-container u-clearfix">
              <h5 class="u-cart-block-header u-text">Cart Totals</h5>
              <div class="u-align-right u-cart-block-content u-text">
                <div class="u-cart-totals-table u-table u-table-responsive">
                  <table class="u-table-entity">
                    <colgroup>
                      <col width="50%">
                      <col width="50%">
                    </colgroup>
                    <tbody class="u-align-right u-table-body">
                      <tr>
                        <td
                          class="u-align-left u-border-1 u-border-grey-dark-1 u-first-column u-table-cell u-table-cell-17">
                          Subtotal</td>
                        <td class="u-border-1 u-border-grey-dark-1 u-table-cell">$281.00</td>
                      </tr>
                      <tr>
                        <td
                          class="u-align-left u-border-1 u-border-grey-dark-1 u-first-column u-table-cell u-table-cell-19">
                          Total</td>
                        <td class="u-border-1 u-border-grey-dark-1 u-table-cell u-table-cell-20">$281.00</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <a href="#" class="u-btn u-button-style u-cart-checkout-btn u-btn-4">Proceed to Checkout</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

</body>

{% endblock body %}